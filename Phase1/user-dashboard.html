<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Dashboard - CareerNest</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="jobs.css" />
  </head>
  <body>
    <header>
      <nav class="navbar">
        <div class="logo">CareerNest</div>
        <ul class="nav-links">
          <li><a href="user-dashboard.html">Dashboard</a></li>
          <li><a href="job-list.html">Browse Jobs</a></li>
          <!-- <li><a href="my-applications.html">My Applications</a></li> -->
          <li><a href="index.html" class="btn-secondary">Logout</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section class="dashboard-header">
        <h1>Welcome, <span class="user-name">Username</span></h1>
        <a href="job-list.html" class="btn-primary">Browse Jobs</a>
      </section>

      <section class="dashboard-stats">
        <div class="stat-card">
          <h3>Applications</h3>
          <p class="stat-value">4</p>
        </div>
        <div class="stat-card">
          <h3>Viewed Jobs</h3>
          <p class="stat-value">12</p>
        </div>
        <div class="stat-card">
          <h3>Saved Jobs</h3>
          <p class="stat-value">3</p>
        </div>
      </section>

      <section class="recent-applications">
        <h2>My Applications</h2>
        <div class="job-list">
          <div class="job-card">
            <div class="job-header">
              <h3>Frontend Developer</h3>
              <span class="company-name">Tech Solutions Inc.</span>
            </div>
            <p class="job-info">Applied: March 28, 2025</p>
            <p class="application-status pending">Status: Pending Review</p>
            <a href="job-details.html" class="btn-secondary">View Job</a>
          </div>

          <div class="job-card">
            <div class="job-header">
              <h3>UX Designer</h3>
              <span class="company-name">Creative Minds LLC</span>
            </div>
            <p class="job-info">Applied: March 25, 2025</p>
            <p class="application-status reviewing">Status: Under Review</p>
            <a href="job-details.html" class="btn-secondary">View Job</a>
          </div>
        </div>

        <!-- <div class="view-all">
          <a href="my-applications.html">View All Applications</a>
        </div> -->
      </section>
    </main>

    <footer>
      <p>&copy; 2025 CareerSeek. All rights reserved.</p>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const currentUser = JSON.parse(localStorage.getItem("currentUser"));
        const userNameElement = document.querySelector(".user-name");
        const applicationsStat = document.querySelector(
          ".dashboard-stats .stat-card:nth-child(1) .stat-value"
        );

        if (currentUser && currentUser.username) {
          userNameElement.textContent = currentUser.username;
        } else {
          userNameElement.textContent = "Guest";
        }

        // Load and show application count
        const stats = JSON.parse(localStorage.getItem("userStats")) || {};
        const count = stats[currentUser?.email]?.applicationCount || 0;
        if (applicationsStat) {
          applicationsStat.textContent = count;
        }
      });
    </script>
  </body>
  <script src="user-dashboaed.js" defer></script>

  <script src="job-details.js" defer></script>
</html>
